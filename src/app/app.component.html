<input #fileInp type="file" (change)="fileSelected()" accept="text/*, .json, .vall" style="display: none;" />

<div class="root">
  <app-db-query [isShow]="isShowDatabaseQuery"></app-db-query>
  <app-object-properties [isShow]="isShowObjectProperties"></app-object-properties>

  <mat-toolbar>
    <span>Graph Imager</span>
    <button mat-button [matMenuTriggerFor]="file">File<mat-icon>arrow_drop_down</mat-icon></button>
    <mat-menu #file="matMenu">
      <button (click)="loadGraphFromFile()" mat-menu-item>Load</button>
      <button (click)="saveGraph2File()" mat-menu-item>Save</button>
      <button (click)="saveSelected2File()" mat-menu-item>Save Selected</button>
      <button (click)="saveAsPng()" mat-menu-item>Save as PNG</button>
    </mat-menu>
    <button mat-button [matMenuTriggerFor]="query">Query<mat-icon>arrow_drop_down</mat-icon></button>
    <mat-menu #query="matMenu">
      <button (click)="showDbQuery()" mat-menu-item>Database Query</button>
      <button mat-menu-item>Item 2</button>
    </mat-menu>
    <button mat-button [matMenuTriggerFor]="data">Data<mat-icon>arrow_drop_down</mat-icon></button>
    <mat-menu #data="matMenu">
      <button (click)="clearData()" mat-menu-item>Clear data</button>
      <button (click)="openSampleDataDialog()" mat-menu-item>Sample data</button>
      <button (click)="endPoints()" mat-menu-item>Endpoints</button>
    </mat-menu>
    <button mat-button [matMenuTriggerFor]="layout">Layout<mat-icon>arrow_drop_down</mat-icon></button>
    <mat-menu #layout="matMenu">
      <button *ngFor="let l of layoutNames" (click)="runLayout(l)" mat-menu-item>{{l}}</button>
    </mat-menu>
    <button mat-button [matMenuTriggerFor]="highlight">Highlight<mat-icon>arrow_drop_down</mat-icon></button>
    <mat-menu #highlight="matMenu">
      <button (click)="searchAndHighlight()" mat-menu-item>Search</button>
      <button (click)="highlightSelected()" mat-menu-item>Selected</button>
      <button (click)="highlightUnselected()" mat-menu-item>Unselected</button>
      <button (click)="removeHighlight4Selected()" mat-menu-item>Remove highlight for selected</button>
      <button (click)="removeHighlight4Unselected()" mat-menu-item>Remove highlight for unselected</button>
      <button (click)="removeHighlights()" mat-menu-item>Remove highlights</button>
    </mat-menu>

    <mat-form-field appearance="standard" *ngIf="isShowSearchInp">
      <input #searchInp matInput type="text" [(ngModel)]="searchTxt" placeholder="Search text...">
      <span matSuffix>
        <button mat-icon-button style="display: inline;" (click)="highlight4txt()">
          <mat-icon>search</mat-icon>
        </button>
        <button mat-icon-button style="display: inline;" (click)="isShowSearchInp=false">
          <mat-icon>close</mat-icon>
        </button>
      </span>
    </mat-form-field>

    <button mat-button [matMenuTriggerFor]="compound">Compound<mat-icon>arrow_drop_down</mat-icon></button>
    <mat-menu #compound="matMenu">
      <button (click)="addCompound4Selected()" mat-menu-item>Add compound node for selected nodes</button>
      <button (click)="removeCompound4Selected()" mat-menu-item>Remove selected compound node </button>
      <button (click)="removeCompoundNodes()" mat-menu-item>Remove all compound nodes </button>
      <button (click)="collapseCompoundNodes()" mat-menu-item>Collapse all compound nodes </button>
      <button (click)="collapseCompoundEdges()" mat-menu-item>Collapse all compound edges </button>
      <button (click)="expandCompoundNodes()" mat-menu-item>Expand all compound nodes </button>
      <button (click)="expandCompoundEdges()" mat-menu-item>Expand all compound edges </button>
    </mat-menu>
    <button mat-icon-button (click)="openDbConfigDialog()">
      <mat-icon>settings</mat-icon>
    </button>

  </mat-toolbar>

  <div class="container">
    <div id="cy">
    </div>
  </div>

</div>